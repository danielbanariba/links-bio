import{r as e}from"./rolldown-runtime-o1kDnhdS.js";import{j as t,r as n}from"./chunk-EPOLDU6W-CIOSNN8S.js";import{H as r,N as i,R as a,S as o,V as s,_ as c,f as l,g as u,j as d,n as f,u as p,v as m}from"./esm-CjmgHRK6.js";import{n as h}from"./emotion-react.browser.esm-BqDqBqWB.js";import{t as g}from"./dist-Z3Ur2LlA.js";import{t as _}from"./Helmet-Cpn3M8zN.js";var v=e(t(),1);function y(){let[e,t]=(0,v.useContext)(d);return h(g,{className:`Root `,css:{width:`100%`},onSubmit:(0,v.useCallback)(t=>{let n=t.target;t.preventDefault();let r={...Object.fromEntries(new FormData(n).entries())};((...t)=>e([a(`reflex___state____state.links_bio___states___form_state____form_state.handle_newsletter_signup`,{form_data:r},{})],t,{}))(t)})},h(c,{align:`start`,className:`rx-Stack`,css:{width:`100%`,maxWidth:`500px`},direction:`row`,gap:`2`},h(f,{css:{background:`#0a121f`,border:`1px solid`,borderColor:`#022b44`,color:`#fff8ee`,width:`100%`,"&:focus":{borderColor:`#0073a8`}},name:`email`,placeholder:`Tu email`,size:`3`,type:`email`}),h(u,{css:{width:`100%`,height:`100%`,padding:`0.5em`,borderRadius:`0.5em`,color:`#fff8ee`,backgroundColor:`#0a121f`,whiteSpace:`normal`,textAlign:`start`,"&:hover":{opacity:`0.85`},background:`#0073a8`,paddingInlineStart:`1.5em`,paddingInlineEnd:`1.5em`,paddingTop:`0.6em`,paddingBottom:`0.6em`,fontWeight:`500`,cursor:`pointer`},type:`submit`},`Suscribirme`)))}function b(){return h(v.Fragment,{},(0,v.useContext)(i.reflex___state____state__links_bio___states___form_state____form_state).newsletter_success_rx_state_?h(v.Fragment,{},h(c,{css:{display:`flex`,alignItems:`center`,justifyContent:`center`,paddingTop:`1em`,paddingBottom:`1em`}},h(o,{as:`p`,css:{color:`#0073a8`,fontSize:`1.1em`,fontWeight:`500`}},`Gracias por suscribirte!`))):h(v.Fragment,{},h(y,{})))}function x(){return h(o,{as:`p`,css:{color:`red`,fontSize:`0.85em`,marginTop:`0.3em`}},(0,v.useContext)(i.reflex___state____state__links_bio___states___form_state____form_state).newsletter_error_rx_state_)}function S(){return h(v.Fragment,{},(0,v.useContext)(i.reflex___state____state__links_bio___states___form_state____form_state).newsletter_error_rx_state_?.valueOf?.()===``?.valueOf?.()?h(v.Fragment,{}):h(v.Fragment,{},h(x,{})))}function C(){let e=(0,v.useContext)(i.reflex___state____state__links_bio___states___metal_archive_state____metal_archive_state);return h(l,{columns:{initial:`1`,sm:`2`,md:`3`,lg:`4`},css:{width:`100%`},gap:`4`},Array.prototype.map.call(e.albums_rx_state_??[],((e,t)=>h(p,{asChild:!0,css:{textDecoration:`none`,"&:hover":{color:`var(--accent-8)`}},key:t},h(n,{to:s(e?.id)?`/metal-archive/album/`+e?.id:`#`},h(m,{css:{background:`#0a121f`,borderRadius:`0.8em`,overflow:`hidden`,transition:`transform 0.2s, box-shadow 0.2s`,"&:hover":{transform:`scale(1.03)`,boxShadow:`0 0 20px #0073a840`},cursor:`pointer`,width:`100%`}},h(`img`,{alt:e?.album_title,css:{width:`100%`,aspectRatio:`1`,objectFit:`cover`},loading:`lazy`,src:e?.album_artwork_url?.valueOf?.()===``?.valueOf?.()?`img_video/default_album.jpg`:e?.album_artwork_url}),h(c,{align:`start`,className:`rx-Stack`,css:{padding:`0.8em`,width:`100%`},direction:`column`,gap:`1`},h(o,{as:`p`,css:{fontWeight:`500`,fontSize:`1em`,color:`#fff8ee`,noOfLines:1}},e?.band_name),h(o,{as:`p`,css:{fontSize:`0.8em`,color:`#ccc6be`,noOfLines:1}},e?.album_title),h(c,{align:`start`,className:`rx-Stack`,css:{width:`100%`},direction:`row`,gap:`3`},h(o,{as:`p`,css:{fontSize:`0.7em`,color:`#0073a8`}},e?.genre),h(c,{css:{flex:1,justifySelf:`stretch`,alignSelf:`stretch`}}),h(o,{as:`p`,css:{fontSize:`0.7em`,color:`#99948e`}},e?.year)))))))))}function w(){return h(v.Fragment,{},(0,v.useContext)(i.reflex___state____state__links_bio___states___metal_archive_state____metal_archive_state).albums_rx_state_.length>0?h(v.Fragment,{},h(m,{css:{width:`100%`}},h(C,{}))):h(v.Fragment,{},h(c,{css:{display:`flex`,alignItems:`center`,justifyContent:`center`,paddingTop:`3em`,paddingBottom:`3em`,width:`100%`}},h(o,{as:`p`,css:{color:`#ccc6be`,fontSize:`1.1em`}},`No se encontraron albums.`))))}function T(){let e=(0,v.useRef)(null);r.ref_load_more_trigger=e;let[t,n]=(0,v.useContext)(d);return h(`button`,{css:{position:`absolute`,opacity:`0`,height:`0`,width:`0`,overflow:`hidden`,pointerEvents:`none`,padding:`0`,border:`none`},id:`load-more-trigger`,onClick:(0,v.useCallback)((e=>t([a(`reflex___state____state.links_bio___states___metal_archive_state____metal_archive_state.load_more_albums`,{},{})],[e],{})),[t,a]),ref:e})}function E(){let e=(0,v.useContext)(i.reflex___state____state__links_bio___states___metal_archive_state____metal_archive_state),t=(0,v.useRef)(null);return r.ref_scroll_sentinel=t,h(v.Fragment,{},e.has_more_rx_state_?h(v.Fragment,{},h(m,{css:{height:`1px`}},h(T,{}),h(`div`,{id:`scroll-sentinel`,ref:t}),h(_,{},h(`script`,{},`
(function() {
    let debounce = false;
    const io = new IntersectionObserver((entries) => {
        if (entries[0] && entries[0].isIntersecting && !debounce) {
            debounce = true;
            const btn = document.getElementById('load-more-trigger');
            if (btn) btn.dispatchEvent(new MouseEvent('click', { bubbles: true }));
            setTimeout(() => { debounce = false; }, 2500);
        }
    }, { rootMargin: '300px' });

    function observe() {
        const el = document.getElementById('scroll-sentinel');
        if (el) io.observe(el);
    }

    new MutationObserver(observe).observe(document.body, { childList: true, subtree: true });
    observe();
})();
`)))):h(v.Fragment,{}))}export{E as i,S as n,w as r,b as t};